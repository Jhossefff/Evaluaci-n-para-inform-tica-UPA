"use strict";function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(r,e){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r)){var t=[],a=!0,o=!1,n=void 0;try{for(var s,u=r[Symbol.iterator]();!(a=(s=u.next()).done)&&(t.push(s.value),!e||t.length!==e);a=!0);}catch(r){o=!0,n=r}finally{try{a||null==u.return||u.return()}finally{if(o)throw n}}return t}}function _arrayWithHoles(r){if(Array.isArray(r))return r}var pool=require("../config/db");exports.crearUsuario=function(e,t){var a,o,n,s,u,i,c,l,d;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.body,o=a.nombre,n=a.fecha,s=a.telefono,u=a.correo,i=a.EstadoUsuarioId,r.prev=1,"INSERT INTO usuario (nombre, fecha, telefono, correo, EstadoUsuarioId) VALUES (?, ?, ?, ?, ?)",r.next=5,regeneratorRuntime.awrap(pool.query("INSERT INTO usuario (nombre, fecha, telefono, correo, EstadoUsuarioId) VALUES (?, ?, ?, ?, ?)",[o,n,s,u,i]));case 5:c=r.sent,l=_slicedToArray(c,1),d=l[0],t.status(201).json({id:d.insertId,mensaje:"Usuario creado exitosamente"}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),t.status(500).json({error:"Error al crear usuario: ".concat(r.t0.message)});case 14:case"end":return r.stop()}},null,null,[[1,11]])},exports.obtenerUsuarios=function(r,e){var t,a,o;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,"SELECT * FROM usuario",r.next=4,regeneratorRuntime.awrap(pool.query("SELECT * FROM usuario"));case 4:t=r.sent,a=_slicedToArray(t,1),o=a[0],e.status(200).json(o),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),e.status(500).json({error:"Error al obtener usuarios: ".concat(r.t0.message)});case 13:case"end":return r.stop()}},null,null,[[0,10]])},exports.obtenerUsuarioPorId=function(e,t){var a,o,n,s;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.params.id,r.prev=1,"SELECT * FROM usuario WHERE id = ?",r.next=5,regeneratorRuntime.awrap(pool.query("SELECT * FROM usuario WHERE id = ?",[a]));case 5:if(o=r.sent,n=_slicedToArray(o,1),0===(s=n[0]).length)return r.abrupt("return",t.status(404).json({error:"Usuario no encontrado"}));r.next=10;break;case 10:t.status(200).json(s[0]),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(1),t.status(500).json({error:"Error al obtener usuario: ".concat(r.t0.message)});case 16:case"end":return r.stop()}},null,null,[[1,13]])},exports.actualizarUsuario=function(e,t){var a,o,n,s,u,i,c,l,d;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.params.id,o=e.body,n=o.nombre,s=o.fecha,u=o.telefono,i=o.correo,c=o.EstadoUsuarioId,r.prev=2,"UPDATE usuario SET nombre = ?, fecha = ?, telefono = ?, correo = ?, EstadoUsuarioId = ? WHERE id = ?",r.next=6,regeneratorRuntime.awrap(pool.query("UPDATE usuario SET nombre = ?, fecha = ?, telefono = ?, correo = ?, EstadoUsuarioId = ? WHERE id = ?",[n,s,u,i,c,a]));case 6:if(l=r.sent,d=_slicedToArray(l,1),0===d[0].affectedRows)return r.abrupt("return",t.status(404).json({error:"Usuario no encontrado"}));r.next=11;break;case 11:t.status(200).json({mensaje:"Usuario actualizado exitosamente"}),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(2),t.status(500).json({error:"Error al actualizar usuario: ".concat(r.t0.message)});case 17:case"end":return r.stop()}},null,null,[[2,14]])},exports.eliminarUsuario=function(e,t){var a,o,n;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.params.id,r.prev=1,"DELETE FROM usuario WHERE id = ?",r.next=5,regeneratorRuntime.awrap(pool.query("DELETE FROM usuario WHERE id = ?",[a]));case 5:if(o=r.sent,n=_slicedToArray(o,1),0===n[0].affectedRows)return r.abrupt("return",t.status(404).json({error:"Usuario no encontrado"}));r.next=10;break;case 10:t.status(200).json({mensaje:"Usuario eliminado exitosamente"}),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(1),t.status(500).json({error:"Error al eliminar usuario: ".concat(r.t0.message)});case 16:case"end":return r.stop()}},null,null,[[1,13]])};
//# sourceMappingURL=userControllers.min.js.map
